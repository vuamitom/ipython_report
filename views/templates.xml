<odoo>
    <data>
        <!-- <template id="listing"> -->
        <!--   <ul> -->
        <!--     <li t-foreach="objects" t-as="object"> -->
        <!--       <a t-attf-href="#{ root }/objects/#{ object.id }"> -->
        <!--         <t t-esc="object.display_name"/> -->
        <!--       </a> -->
        <!--     </li> -->
        <!--   </ul> -->
        <!-- </template> -->
        <!-- <template id="object"> -->
        <!--   <h1><t t-esc="object.display_name"/></h1> -->
        <!--   <dl> -->
        <!--     <t t-foreach="object._fields" t-as="field"> -->
        <!--       <dt><t t-esc="field"/></dt> -->
        <!--       <dd><t t-esc="object[field]"/></dd> -->
        <!--     </t> -->
        <!--   </dl> -->
        <!-- </template> -->
        <template id="notebook" name="ipython_report notebook">
            <script src="/ipython_report/static/notebook/js/main.min.js"></script>
        </template>

        <template id="asset" name="ipython_report js">
            <script src="/ipython_report/static/components/es6-promise/promise.min.js" type="text/javascript" charset="utf-8"></script>
            <script src="/ipython_report/static/components/preact/index.js" type="text/javascript"></script>
            <script src="/ipython_report/static/components/proptypes/index.js" type="text/javascript"></script>
            <script src="/ipython_report/static/components/preact-compat/index.js" type="text/javascript"></script>
            <script src="/ipython_report/static/components/requirejs/require.js" type="text/javascript" charset="utf-8"></script>
            <script>
                var base_url = '/ipython_report/static/';
                require.config({

                  baseUrl: base_url,
                  paths: {
                    custom : 'custom',
                    kernelspecs : base_url + 'kernelspecs',
                    underscore : 'components/underscore/underscore-min',
                    backbone : 'components/backbone/backbone-min',
                    jed: 'components/jed/jed',
                    jquery: 'components/jquery/jquery.min',
                    json: 'components/requirejs-plugins/src/json',
                    text: 'components/requirejs-text/text',
                    bootstrap: 'components/bootstrap/js/bootstrap.min',
                    bootstraptour: 'components/bootstrap-tour/build/js/bootstrap-tour.min',
                    'jquery-ui': 'components/jquery-ui/jquery-ui.min',
                    moment: 'components/moment/min/moment-with-locales',
                    codemirror: 'components/codemirror',
                    termjs: 'components/xterm.js/xterm',
                    typeahead: 'components/jquery-typeahead/dist/jquery.typeahead.min',
                  },
                  map: { // for backward compatibility
                      "*": {
                          "jqueryui": "jquery-ui",
                      }
                  },
                  shim: {
                    typeahead: {
                      deps: ["jquery"],
                      exports: "typeahead"
                    },
                    underscore: {
                      exports: '_'
                    },
                    backbone: {
                      deps: ["underscore", "jquery"],
                      exports: "Backbone"
                    },

                  },
                  waitSeconds: 30,
                });

                require.config({
                  map: {
                      '*':{
                        'contents': 'services/contents',
                      }
                  }
                });

                // error-catching custom.js shim.
                define("custom", function (require, exports, module) {
                  try {
                      var custom = require('custom/custom');
                      console.debug('loaded custom.js');
                      return custom;
                  } catch (e) {
                      console.error("error loading custom.js", e);
                      return {};
                  }
                });

                document.nbjs_translations = {};
                document.documentElement.lang = navigator.language.toLowerCase();
            </script>
        </template>

        <template id="style" name="ipython_report css">
            <link rel="stylesheet" href="/ipython_report/static/style/style.min.css" type="text/css"/>
            <link rel="stylesheet" href="/ipython_report/static/custom/custom.css" type="text/css" />
        </template>

        <template id="index">
            <html>
                <head>
                    <title>Odoo IPython based report</title>
                    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
                    <meta http-equiv="content-type" content="text/html, charset=utf-8" />
                    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
                    <t t-call-assets="ipython_report.style" />
                </head>
                <body>
                    <div id="header">
                        <div id="header-container" class="container">
                            <span id="save_widget" class="save_widget">
                                <span id="notebook_name" class="filename"></span>
                                <span class="checkpoint_status"></span>
                                <span class="autosave_status"></span>
                            </span>

                            <span id="kernel_logo_widget">
                              <img class="current_kernel_logo" alt="Current Kernel Logo" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/>
                            </span>
                        </div>
                        <div class="header-bar"></div>
                    </div>
                    <div id="site">
                        <div id="ipython-main-app">
                            <div id="notebook_panel">
                                <div id="notebook"></div>
                                <div id='tooltip' class='ipython_tooltip' style='display:none'></div>
                            </div>
                        </div>
                    </div>
                    <div id="pager">
                        <div id="pager-contents">
                            <div id="pager-container" class="container"></div>
                        </div>
                        <div id='pager-button-area'></div>
                    </div>
                    <t t-call-assets="ipython_report.asset" t-css="false"/>
                    <t t-call-assets="ipython_report.notebook" t-css="false"/>
                </body>
            </html>

        </template>
    </data>
</odoo>